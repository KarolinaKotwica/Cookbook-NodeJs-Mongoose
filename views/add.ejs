<%- include('partials/header'); -%>
<title>Dodaj nowy przepis - Cookbook</title>
<meta name="description" content="Tutaj możesz dodać nowy przepis.">
</head>
<body id="google_translate_element">
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KDZ84VJ"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<%- include('partials/nav'); -%>

<div class="container-fluid-mobile">
<form id="add_new_recipe" action="/" method="POST" enctype="multipart/form-data">
    <h1>Dodaj nowy przepis:</h1>
    <% if (add.length > 0) { %>
        <div class="alert alert-danger" role="alert">
            <p><%= add %> </p>
        </div>
        <% } %>

    <div class="container-fluid">
        <div class="form_detail">
            <h3>Podstawowe informacje:</h3>
            <div class="mb-3">
                <input type="text" id="publisher" name="publisher" class="form-control" placeholder="Autor przepisu" data-bs-toggle="tooltip" data-bs-placement="top" title="1 do 50 znaków" maxlength="50" required>
            </div>
            <div class="mb-3">
                <input type="text" id="title" name="title" class="form-control" placeholder="Nazwa przepisu" data-bs-toggle="tooltip" data-bs-placement="top" title="1 do 60 znaków" maxlength="60" required>
            </div>
            <div class="mb-3">
                <input type="number" id="time" name="time" class="form-control" placeholder="Czas w min" required>
            </div>
            <div class="mb-3">
                <select name="category" id="choose_category" class="form-select" required>
                    <option value="Śniadanie">Śniadanie</option>
                    <option value="Desery">Desery</option>
                    <option value="Torty">Torty</option>
                    <option selected="Obiad">Obiad</option>
                    <option value="Dla dzieci">Dla dzieci</option>
                    <option value="Dodatki">Dodatki</option>
                    <option value="Sałatki">Sałatki</option>
                    <option value="Zupy">Zupy</option>
                    <option value="Przekąski">Przekąski</option>
                </select>
            </div>

            <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                  <strong class="me-auto">Podpowiedź</strong>
                </div>
                <div class="toast-body">
                    <i class="far fa-hand-point-down"> Obrazek jest wymagany aby dodać przepis.</i>
                </div>
            </div>
            <br>

            <div class="mb-3">
                <input class="form-control" type="file" name="image">
            </div>
            <h3>Składniki:</h3>
            <div class="mb-3">

                <div class="ingredientList">
                    <div class="ingredientDiv mb-3">
                        <input type="text" placeholder="Składnik" class="form-control" name="ingredients" autocomplete="off" required>
                    </div>
                    <div class="ingredientDiv mb-3">
                        <input type="text" placeholder="Składnik" class="form-control" name="ingredients" autocomplete="off" required>
                    </div>
                    <div class="ingredientDiv mb-3">
                        <input type="text" placeholder="Składnik" class="form-control" name="ingredients" autocomplete="off" required>
                    </div>
                </div>

                <div type="button" class="btn" id="addIngredientsBtn"><i class="fas fa-plus"></i> Dodaj składnik</div>
                <div type="button" class="btn" id="removeIngredientsBtn"><i class="fas fa-trash"></i> Usuń składnik</div>
                
            </div>

            <h3>Opis przepisu:</h3>
            <div class="form-floating">
                <input class="input_counter" onblur="textCounter(this.form.recipients,this,999);" disabled tabindex="999" maxlength="3" size="3" value="999" name="counter">

                <textarea onblur="textCounter(this,this.form.counter,999);" onkeyup="textCounter(this,this.form.counter,999);" class="form-control textarea" id="describe" name="describe" data-bs-toggle="tooltip" data-bs-placement="top" maxlength="999" required></textarea>
                <label for="textarea"></label>
            </div>
            <h3>Przygotowanie:</h3>
            <div class="form-floating">
                <input class="input_counter" onblur="textCounter(this.form.recipients,this,1999);" disabled tabindex="999" maxlength="3" size="3" value="1999" name="counter_2">

                <textarea onblur="textCounter(this,this.form.counter_2,1999);" onkeyup="textCounter(this,this.form.counter_2,1999);" class="form-control textarea" id="preparation" name="preparation" data-bs-toggle="tooltip" data-bs-placement="top" maxlength="1999" required></textarea>
            </div>
        </div>
        
    </div>
      
    <button type="submit" class="btn" name="publish" id="add_submit">Dodaj przepis</button>
</form>
</div>

<%- include('partials/footer'); -%>